
add_namespace = mexico

#lore
country_event = {
	id = mexico.0
	title = mexico.0.t
	desc = mexico.0.d
	
	picture = GFX_event_test
	
	fire_only_once = yes
	
	is_triggered_only = yes
		
	option = {
		name = mexico.0.a
		ai_chance = { factor = 100}
	}
}

# charles lindberg arrives

country_event = {
	id = mexico.1
	title = mexico.1.t
	desc = mexico.1.d
	
	picture = GFX_report_event_gathering_protest
	
	fire_only_once = yes
	
	trigger = {
		NOT = {
			country_exists = AMS
		}
		tag = MEX
		has_global_flag = american_civil_war_begun
	}
	mean_time_to_happen = { days = 1 }
		
	option = {
		name = mexico.1.a
		ai_chance = { factor = 10}
		add_popularity = {
			ideology = national_populism
			popularity = 0.10
		}
	}
	option = {
		name = mexico.1.b
		ai_chance = { factor = 90}
		BRA = {
		    country_event = brazil.1
		}
	}
}

#Texas Revolution
country_event = {
	id = mexico.2
	title = mexico.2.t
	desc = mexico.2.d
	
	picture = GFX_report_event_mex_civil_war
	
	fire_only_once = yes
	
	trigger = {
		DATE > 1937.1.1
		tag = MEX
	}
	mean_time_to_happen = { days = 1 }
		
	option = {
		name = mexico.2.a
		ai_chance = { factor = 100}
		TEX = {
		    transfer_state = 375
		    add_state_core = 375
			transfer_state = 807
		    add_state_core = 807
		    load_oob = TEX_SoloRevolt
		}
		declare_war_on = {
		    target = TEX
		    type = annex_everything
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.9 }
		}
	}
}
#The Revolution
country_event = {
	id = mexico.3
	title = mexico.3.t
	desc = mexico.3.d
	
	picture = GFX_report_event_gathering_protest
	
	fire_only_once = yes
	
	trigger = {
		DATE > 1938.5.13
		tag = MEX
	}
	mean_time_to_happen = { days = 1 }
		
	option = {
		name = mexico.3.a
		ai_chance = { factor = 100}
		CAF = {
		    create_faction = "San Fransico Pact"
		    add_to_faction = DES
		    add_to_faction = TEX
		    add_to_faction = RIG
		    add_to_faction = YUC
		    add_to_faction = CEN
		    transfer_state = 378
		    add_state_core = 378
		    transfer_state = 377
		    add_state_core = 377
		    transfer_state = 798
		    add_state_core = 798
		    load_oob = CAF_Revolt
		}
		TEX = {
		    transfer_state = 375
		    add_state_core = 375
		    transfer_state = 376
		    add_state_core = 376
			transfer_state = 807
		    add_state_core = 807
		    load_oob = TEX_BigRevolt
		}
		YUC = {
		    transfer_state = 474
		    add_state_core = 474
		    load_oob = YUC_Revolt
		}
		DES = {
		    transfer_state = 380
		    add_state_core = 380
		    transfer_state = 379
		    add_state_core = 379
		    transfer_state = 800
		    add_state_core = 800
		    transfer_state = 799
		    add_state_core = 799
		    transfer_state = 797
		    add_state_core = 797
		    load_oob = DES_Revolt
		}
		CEN = {
		    transfer_state = 313
		    add_state_core = 313
		    transfer_state = 314
		    add_state_core = 314
		    transfer_state = 312
		    add_state_core = 312
		    transfer_state = 317
		    add_state_core = 317
		    transfer_state = 316
		    add_state_core = 316
			load_oob = CEN_Revolt
		}
		RIG = {
		    transfer_state = 480
		    add_state_core = 480
		    transfer_state = 479
		    add_state_core = 479
			add_state_claim = 807
		    load_oob = RIG_Revolt
		}
		declare_war_on = {
		    target = TEX
		    type = annex_everything
		}
		declare_war_on = {
		    target = CAF
		    type = annex_everything
		}
		declare_war_on = {
		    target = DES
		    type = annex_everything
		}
		declare_war_on = {
		    target = RIG
		    type = annex_everything
		}
		declare_war_on = {
		    target = YUC
		    type = annex_everything
		}
		declare_war_on = {
		    target = CEN
		    type = annex_everything
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.10 }
		}
		country_event = {id = mexico.4}
		set_global_flag = mexican_revolution_has_happened
	} 	
}
##Switch countries events
country_event = {
	id = mexico.4
	title = mexico.4.t
	desc = mexico.4.d
	
	picture = GFX_report_event_gathering_protest
	
	fire_only_once = yes
	is_triggered_only = yes
		
	option = {
		name = mexico.4.a
		ai_chance = { factor = 0}
		CAF = {
            change_tag_from = MEX
        }
	}
	option = {
		name = mexico.4.b 
		ai_chance = { factor = 0 }
		TEX = {
			change_tag_from = MEX
		}
	}
	option = {
		name = mexico.4.c 
		ai_chance = { factor = 0 }
		DES = {
			change_tag_from = MEX
		}
	}
	option = {
		name = mexico.4.e 
		ai_chance = { factor = 0 }
		country_event = {id = mexico.5}
	}
}
country_event = {
	id = mexico.5
	title = mexico.5.t
	desc = mexico.5.d
	
	picture = GFX_report_event_gathering_protest
	
	fire_only_once = yes
	is_triggered_only = yes
		
	option = {
		name = mexico.5.a
		ai_chance = { factor = 100}
		YUC = {
            change_tag_from = MEX
        }
	}
	option = {
		name = mexico.5.b 
		ai_chance = { factor = 100 }
		CEN = {
			change_tag_from = MEX
		}
	}
	option = {
		name = mexico.5.c 
		ai_chance = { factor = 100 }
		RIG = {
			change_tag_from = MEX
		}
	}
	option = {
		name = mexico.5.e 
		ai_chance = { factor = 100 }
	}
}
country_event = {
	id = mexico.6
	title = mexico.6.t
	desc = mexico.6.d
	
	picture = GFX_report_event_gathering_protest
	
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		has_global_flag = mexican_revolution_has_happened
		has_war = no
		NOT = {
			country_exists = CAF
		}
		tag = MEX
	}

	option = {
		name = mexico.6.b
		ai_chance = { factor = 100 }
		add_ideas = the_northern_revolts
		add_ideas = starving_populace
		add_ideas = broken_industry
		hidden_effect = {
			set_global_flag = mexican_revolution_is_over_mexican_victory
		}
	}
}
country_event = {
	id = mexico.7
	title = mexico.7.t
	desc = mexico.7.d
	picture = GFX_report_event_gathering_protest

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = mexico.7.a
		add_popularity = {
			ideology = liberal
			popularity = 0.05
		}
	}
	option = {
		name = mexico.7.b
		add_popularity = {
			ideology = national_populism
			popularity = 0.05
		}
	}
	option = {
		name = mexico.7.c 
		country_event = {id = mexico.8}
		remove_ideas = a_divided_country1
	}
}
country_event = {
	id = mexico.8
	title = mexico.8.t
	desc = mexico.8.d
	picture = GFX_report_event_korean_war_march
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = mexico.8.a
		ai_chance = {factor = 50}
		add_popularity = {
			ideology = vanguardism
			popularity = 0.10
		}
		add_political_power = -100
	}
	option = {
		name = mexico.8.b
		ai_chance = {factor = 50}
		add_popularity = {
			ideology = vanguardism
			popularity = -0.05
		}
		add_popularity = {
			ideology = national_populism
			popularity = -0.05
		}	
		add_stability = -0.1
	}
}
country_event = {
	id = mexico.9
	title = mexico.9.t
	desc = mexico.9.d 
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = mexico.9.a 
		ai_chance = {factor = 50}
		add_popularity = {
			ideology = national_populism
			popularity = 0.1
		}	
		add_popularity = {
			ideology = vanguardism 
			popularity = 0.05
		}
	}
	option = {
		name = mexico.9.b
		ai_chance = {factor 50}
		add_popularity = {
			ideology = liberal
			popularity = 0.10
		}
		remove_ideas = starving_populace_1
		add_political_power = -200
	}
}
country_event = {
	id = mexico.10
	title = mexico.10.t
	desc = mexico.10.d
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = mexico.10.a 
		add_popularity = {
			ideology = national_populism
			popularity = 0.05
		}	
		add_popularity = {
			ideology = vanguardism 
			popularity = 0.05
		}
	}
	option = {
		name = mexico.10.b
		add_popularity = {
			ideology = national_populism
			popularity = -0.05
		}
		add_popularity = {
			ideology = vanguardism 
			popularity = 0.1
		}
	}
	option = {
		name = mexico.10.c 
		add_political_power = 100
	}
}
country_event = {
	id = mexico.11
	title = mexico.11.t
	desc = mexico.11.d 
	
	fire_only_once = yes 
	is_triggered_only = yes
	
	option = {
		name = mexico.11.a 
		#%military guy
		create_country_leader = {
			name = "Saturnino Cedillo"
			desc = "POLITICS_SATURNINO_CEDILLO_DESC"
			picture = "GFX_portrait_mex_saturnino_cedillo"
			expire = "1965.1.1"
			ideology = stratocracy
			traits = {
		
			}
		}
		hidden_effect = {
			set_country_flag = military_guy_has_taken_power
		}
	}
	option = {
		name = mexico.11.b
		#%liberal guy
		create_country_leader = {
			name = "Biilly Jones"
			desc = ""
			picture ".dds"
			expire = "1965.1.1"
			ideology = stratocracy
			traits = {
			
			}
		}
		hidden_effect = {
			set_country_flag = liberal_guy_has_taken_power
		}
	}
	option = {
		name = mexico.11.c
		#%vanguardist sympathizer 
		create_country_leader = {
			name = "Mexican Stalin"
			desc = ""
			picture = ".dds"
			expire = "1965.1.1"
			ideology = stratocracy
		}
		hidden_effect = {
			set_country_flag = vanguardist_sympathizer_have_taken_power
			add_popularity = {
				ideology = vanguardism
				popularity = 0.1
			}
		}
	}
}
country_event = {
	id = mexico.12
	title = mexico.12.t 
	desc = mexico.12.d 
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = mexico.12.a 
		ai_chance = {factor = 50}
		add_popularity = {
			ideology = ultraconservative
			popularity = 0.05
		}
		add_popularity = {
			ideology = liberal
			popularity = 0.05
		}
		add_ideas = monarchist_compromise
	}
	option = {
		name = mexico.12.b
		add_popularity = {
			ideology = vanguardism
			popularity = 0.05
		}
		add_ideas = the_royal_coffers
		hidden_effect = {
			set_country_flag = seizing_power
		}
	}
}
country_event = {
	id = mexico.13
	title = mexico.13.t 
	desc = mexico.13.d 
	fire_only_once = yes
	
	trigger = {
		has_country_flag = seizing_power
		vanguardism > 0.39
		has_country_flag = vanguardist_sympathizer_have_taken_power
	}
	
	option = {
		name = mexico.13.a 
		ai_chance = {factor = 100}
		set_politics = {
			ruling_party = vanguardism
			elections_allowed = no
		}
	}
}	
country_event = {
	id = mexico.14
	title = mexico.14.t 
	desc = mexico.14.d 
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = mexico.14.a
		create_country_leader = {
			name = "Military Council"
			desc = ""
			picture "AugustinIVMEX.dds"
			expire = "1965.1.1"
			ideology = stratocracy
			traits = {
			
			}
		}
	}
}
