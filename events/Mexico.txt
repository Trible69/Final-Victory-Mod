
add_namespace = mexico

#lore
country_event = {
	id = mexico.0
	title = mexico.0.t
	desc = mexico.0.d
	
	picture = GFX_event_test
	
	fire_only_once = yes
	
	is_triggered_only = yes
		
	option = {
		name = mexico.0.a
		ai_chance = { factor = 100}
	}
}

# charles lindberg arrives

country_event = {
	id = mexico.1
	title = mexico.1.t
	desc = mexico.1.d
	
	picture = GFX_report_event_gathering_protest
	
	fire_only_once = yes
	
	trigger = {
		NOT = {
			country_exists = AMS
		}
		tag = MEX
		has_global_flag = american_civil_war_begun
	}
	mean_time_to_happen = { days = 1 }
		
	option = {
		name = mexico.1.a
		ai_chance = { factor = 10}
		add_popularity = {
			ideology = national_populism
			popularity = 0.10
		}
	}
	option = {
		name = mexico.1.b
		ai_chance = { factor = 90}
		BRA = {
		    country_event = brazil.1
		}
	}
}

#Texas Revolution
country_event = {
	id = mexico.2
	title = mexico.2.t
	desc = mexico.2.d
	
	picture = GFX_report_event_mex_civil_war
	
	fire_only_once = yes
	
	trigger = {
		DATE > 1937.1.1
		tag = MEX
	}
	mean_time_to_happen = { days = 1 }
		
	option = {
		name = mexico.2.a
		ai_chance = { factor = 100}
		TEX = {
		    transfer_state = 375
		    add_state_core = 375
		    load_oob = TEX_SoloRevolt
		}
		declare_war_on = {
		    target = TEX
		    type = annex_everything
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.9 }
		}
	}
}
#The Revolution
country_event = {
	id = mexico.3
	title = mexico.3.t
	desc = mexico.3.d
	
	picture = GFX_report_event_gathering_protest
	
	fire_only_once = yes
	
	trigger = {
		DATE > 1938.5.13
		tag = MEX
	}
	mean_time_to_happen = { days = 1 }
		
	option = {
		name = mexico.3.a
		ai_chance = { factor = 100}
		CAF = {
		    create_faction = "San Fransico Pact"
		    add_to_faction = DES
		    add_to_faction = TEX
		    add_to_faction = RIG
		    add_to_faction = YUC
		    add_to_faction = CEN
		    transfer_state = 378
		    add_state_core = 378
		    transfer_state = 377
		    add_state_core = 377
		    transfer_state = 798
		    add_state_core = 798
		    load_oob = CAF_Revolt
		}
		TEX = {
		    transfer_state = 375
		    add_state_core = 375
		    transfer_state = 376
		    add_state_core = 376
		    load_oob = TEX_BigRevolt
		}
		YUC = {
		    transfer_state = 474
		    add_state_core = 474
		    load_oob = YUC_Revolt
		}
		DES = {
		    transfer_state = 380
		    add_state_core = 380
		    transfer_state = 379
		    add_state_core = 379
		    transfer_state = 800
		    add_state_core = 800
		    transfer_state = 799
		    add_state_core = 799
		    transfer_state = 797
		    add_state_core = 797
		    load_oob = DES_Revolt
		}
		CEN = {
		    transfer_state = 313
		    add_state_core = 313
		    transfer_state = 314
		    add_state_core = 314
		    transfer_state = 312
		    add_state_core = 312
		    transfer_state = 317
		    add_state_core = 317
		    transfer_state = 316
		    add_state_core = 316
			load_oob = CEN_Revolt
		}
		RIG = {
		    transfer_state = 480
		    add_state_core = 480
		    transfer_state = 479
		    add_state_core = 479
		    load_oob = RIG_Revolt
		}
		declare_war_on = {
		    target = TEX
		    type = annex_everything
		}
		declare_war_on = {
		    target = CAF
		    type = annex_everything
		}
		declare_war_on = {
		    target = DES
		    type = annex_everything
		}
		declare_war_on = {
		    target = RIG
		    type = annex_everything
		}
		declare_war_on = {
		    target = YUC
		    type = annex_everything
		}
		declare_war_on = {
		    target = CEN
		    type = annex_everything
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.10 }
		}
		country_event = {id = mexico.4}
		set_global_flag = mexican_revolution_has_happened
	} 	
}
##Switch countries events
country_event = {
	id = mexico.4
	title = mexico.4.t
	desc = mexico.4.d
	
	picture = GFX_report_event_gathering_protest
	
	fire_only_once = yes
	is_triggered_only = yes
		
	option = {
		name = mexico.4.a
		ai_chance = { factor = 0}
		CAF = {
            change_tag_from = MEX
        }
	}
	option = {
		name = mexico.4.b 
		ai_chance = { factor = 0 }
		TEX = {
			change_tag_from = MEX
		}
	}
	option = {
		name = mexico.4.c 
		ai_chance = { factor = 0 }
		DES = {
			change_tag_from = MEX
		}
	}
	option = {
		name = mexico.4.e 
		ai_chance = { factor = 0 }
		country_event = {id = mexico.5}
	}
}
country_event = {
	id = mexico.5
	title = mexico.5.t
	desc = mexico.5.d
	
	picture = GFX_report_event_gathering_protest
	
	fire_only_once = yes
	is_triggered_only = yes
		
	option = {
		name = mexico.5.a
		ai_chance = { factor = 100}
		YUC = {
            change_tag_from = MEX
        }
	}
	option = {
		name = mexico.5.b 
		ai_chance = { factor = 100 }
		CEN = {
			change_tag_from = MEX
		}
	}
	option = {
		name = mexico.5.c 
		ai_chance = { factor = 100 }
		RIG = {
			change_tag_from = MEX
		}
	}
	option = {
		name = mexico.5.e 
		ai_chance = { factor = 100 }
	}
}
country_event = {
	id = mexico.6
	title = mexico.6.t
	desc = mexico.6.d
	
	picture = GFX_report_event_gathering_protest
	
	fire_only_once = yes
	trigger = {
		DATE > 1938.6.13
		tag = MEX
		has_war = no 
		NOT = {
			country_exists = CAF
		}
		has_global_flag = mexican_revolution_has_happened
	}
	mean_time_to_happen = { days = 1 }

	option = {
		name = mexico.6.b 
		ai_chance = { factor = 100 }
		add_ideas = the_northern_revolts
		add_ideas = starving_populace
		add_ideas = broken_industry
		hidden_effect = {
			set_global_flag = mexican_revolution_is_over_mexican_victory
		}
	}
}
country_event = {
	id = mexico.7
	title = mexico.7.t
	desc = mexico.7.d
	
	picture = GFX_report_event_gathering_protest
	
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = mexico.7.b 
		ai_chance = { factor = 100 }
		
	}
}